<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Popup</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <popup-custom title="hi"></popup-custom>
    <script type="module">
      const getTime = () => {
        const now = new Date();

        const formatterTime = new Intl.DateTimeFormat("fa-IR-u-nu-latn", {
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
          hour12: false,
        });

        const formatterDate = new Intl.DateTimeFormat("fa-IR-u-nu-latn", {
          year: "numeric",
          month: "2-digit",
          day: "2-digit",
        });

        const time = formatterTime.format(now);
        const date = formatterDate.format(now);

        return `${time}-${date}`;
      };

      const saveScore = (score, playerName = "You") => {
        const scores = JSON.parse(localStorage.getItem("scores")) || [];
        const dateTime = getTime();
        const entry = `Player (${playerName}): [${dateTime}] ${dateTime}`;

        scores.push(entry);
        localStorage.setItem("scores", JSON.stringify(scores));
      };

      const getScores = () => {
        return JSON.parse(localStorage.getItem("score")) || [];
      };
    </script>
  </body>
</html>
